<!DOCTYPE HTML>
<html>
	<head>
		<meta charset="UTF-8"/>
		<meta name="viewport" content="initial-scale=1.0; maximum-scale=1.0; user-scalable=no;"/>
		<title>NARB</title>
		<link href="css/jquery.mobile-1.4.2.min.css" rel="stylesheet"/>
		<script type="text/javascript" src="js/jquery-1.11.1.min.js"></script>
		<script type="text/javascript" src="js/jquery.mousewheel.min.js"></script>
		<script type="text/javascript" src="js/jquery.mobile-1.4.2.min.js"></script>
		<script type="text/javascript" src="js/cuboRubik.js"></script>
		<script>
			var nfps = 0;
			var ifps1;
			var ifps2;
			function iniciafps() {
				ifps1 = setInterval(function() { document.getElementById("fps").innerHTML = nfps.toString(); nfps = 0; }, 1000);
				ifps2 = setInterval(function() { nfps++; }, 1);
			}
			function terminafps() {
				clearInterval(ifps2);
				clearInterval(ifps1);
			}
			
			var rubik = Array();
			var memoria = 1;
			
			$(document).ready(function() {
				rubik.push(new Rubik($("#cubo"), 3, $("#area"), function() {
					//alert("giro");
				}, function() {
					//alert("correcto");
				}));
				rubik.push(new Rubik($("#espejo1"), 3, $("#area"), function() {
					//alert("giro");
				}, function() {
					//alert("correcto");
				}));
				for (var i = 0; i < rubik.length; i++)
					rubik[i].eliminaEventos();
				for (var i = 0; i < rubik.length; i++)
					rubik[i].refrescarEventos();
				rubik[1].lado('at');
			});
		</script>
	</head>
	<body>
		<div id="area" style="position: fixed; width: 100%; height: 100%;"></div>
		<p id="log">?</p>
		<p id="fps">0</p>
		<div style="float: left; margin-left: 150px;">
			<div id="cubo" style="width: 300px; height: 300px; border: 1px solid black;"></div>
			<div id="espejo1" style="width: 300px; height: 300px; border: 1px solid black;"></div>
		</div>
		<div style="width: 300px; float: right;">
			<div>
				<input type="checkbox" onclick="!this.checked ? terminafps() : iniciafps();"/><p>FPS</p>
			</div>
			<div>
				<input type="checkbox" onclick="rubik.perspectiva(this.checked);"/><p>Perspectiva</p>
			</div>
			<input type="button" value="Aleatorio" onclick="rubik[0].aleatorio();"/>
			<input type="button" value="Memoria" onclick="rubik[0].memoria(memoria++);"/>
			<input type="button" value="Expandir" onclick="rubik[0].expandir(1.5);"/>
			<input type="button" value="Contraer" onclick="rubik[0].contraer(1.5);"/>
		<div>
	</body>
</html>
